
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Word Meanings - Unit 3</title>
  <style>
    body {
      font-family: sans-serif;
      padding: 20px;
      line-height: 2.5;
      max-width: 800px;
      margin: auto;
      font-size: 20px;
    }
    .button-group {
      display: flex;
      gap: 10px;
      margin-top: 20px;
    }
    button {
      font-size: 16px;
      padding: 10px 20px;
    }
    h3 {
      margin-top: 40px;
    }
    .headword {
      background-color: yellow;
      font-weight: bold;
    }
    .sentence {
      display: block;
    }
    .highlight {
      background-color: lightblue;
    }
  </style>
</head>
<body>

  <h2>Vocabulary Workshop Purple - UNIT 2</h2>
  <h3>Word Meanings</h3>

  <div class="button-group">
    <button id="readBtn" onclick="toggleReading()">‚ñ∂Ô∏è Start Reading</button>
    <audio id="audio" src="3-What-Makes-Waves.mp3"></audio>
    <button id="mp3Btn" onclick="toggleAudio()">üîä Play MP3</button>
    <button onclick="window.open('https://www.sadlierconnect.com/anonymous/product/@vw21?productId=1057&programId=380&subjectId=1&gradeId=5&programTOCId=6615&programSeriesId=117&hash=dW5kZWZpbmVk', '_blank')">üåê Visit the Site</button>
  </div>

  <p id="content"></p>

  <script>
    const sentenceData = [
  {"word":"beach","pos":"noun","def":"A beach is land near the water. It is usually sandy.","example":"The children looked for shells along the beach."},
  {"word":"center","pos":"noun","def":"A center is a place that is in the middle of something.","example":"My mom put the flowers in the center of the table."},
  {"word":"finally","pos":"adverb","def":"Finally means ‚Äúat last.‚Äù","example":"We finally finished our homework."},
  {"word":"idea","pos":"noun","def":"An idea is a thought or a plan. It is something that you think of.","example":"Grandma had a great idea for Dad‚Äôs birthday present."},
  {"word":"ocean","pos":"noun","def":"The ocean is a very large area of salt water. It covers almost three-quarters of Earth.","example":"Ships sail across the big, blue ocean."},
  {"word":"seashell","pos":"noun","def":"A seashell is the shell of a sea animal such as an oyster or a clam.","example":"The outside of the large seashell feels rough."},
  {"word":"stack","pos":"noun","def":"A stack is a neat pile of something.","example":"I ate a tall stack of pancakes."},
  {"word":"stack","pos":"verb","def":"When you stack things, you pile them one on top of another.","example":"Please stack the books neatly on my desk."},
  {"word":"tiny","pos":"adjective","def":"If something is tiny, it is very small.","example":"A tiny drop of water dripped from the bottle."},
  {"word":"wave","pos":"verb","def":"When you wave, you move your hand back and forth.","example":"I wave to my friend."},
  {"word":"wave","pos":"noun","def":"A wave looks like a long bump moving through the water in a lake or an ocean.","example":"A huge wave crashed onto the beach."},
  {"word":"wonder","pos":"verb","def":"When you wonder about something, you are curious about it. You want to learn about it.","example":"I wonder why the sky is blue."}
   ];

    const contentDiv = document.getElementById('content');
    let sentenceIndex = 0;
    const sentences = [];

    sentenceData.forEach((item, i) => {
      const def = document.createElement('span');
      def.className = 'sentence';
      def.id = `s${sentenceIndex}`;
      def.innerHTML = `${i + 1}. <span class="headword">${item.word}</span> (${item.pos}) ${item.def}`;
      contentDiv.appendChild(def);
      sentences.push({ id: def.id, text: `${item.word}. ${item.def}` });
      sentenceIndex++;

      const ex = document.createElement('span');
      ex.className = 'sentence';
      ex.id = `s${sentenceIndex}`;
      ex.innerHTML = item.example.replace(new RegExp(item.word, 'gi'), '<strong>' + item.word + '</strong>');
      contentDiv.appendChild(ex);
      sentences.push({ id: ex.id, text: item.example });
      sentenceIndex++;
    });

    let current = 0;
    let isReading = false;

    function speakSentence(index) {
      const synth = window.speechSynthesis;

      function loadVoicesAndSpeak() {
        const voices = synth.getVoices();
        const femaleVoice = voices.find(v => v.lang === 'en-US' && v.name.toLowerCase().includes('female')) ||
                             voices.find(v => v.lang === 'en-US' && v.name.toLowerCase().includes('english')) ||
                             voices.find(v => v.lang.startsWith('en'));

        const utterance = new SpeechSynthesisUtterance(sentences[index].text);
        if (femaleVoice) utterance.voice = femaleVoice;

        utterance.onstart = () => {
          document.getElementById(sentences[index].id).classList.add('highlight');
        };
        utterance.onend = () => {
          document.getElementById(sentences[index].id).classList.remove('highlight');
          current++;
          if (isReading && current < sentences.length) {
            speakSentence(current);
          } else {
            isReading = false;
            document.getElementById('readBtn').textContent = '‚ñ∂Ô∏è Start Reading';
          }
        };

        synth.speak(utterance);
      }

      if (synth.getVoices().length === 0) {
        synth.onvoiceschanged = loadVoicesAndSpeak;
      } else {
        loadVoicesAndSpeak();
      }
    }

function toggleAudio() {
      const audio = document.getElementById('audio');
      const mp3Btn = document.getElementById('mp3Btn');
      if (audio.paused) {
        audio.play();
        mp3Btn.textContent = '‚èπÔ∏è Stop MP3';
      } else {
        audio.pause();
        audio.currentTime = 0;
        mp3Btn.textContent = 'üîä Play MP3';
      }
    }

    function toggleReading() {
      const synth = window.speechSynthesis;
      if (isReading) {
        synth.cancel();
        isReading = false;
        document.getElementById('readBtn').textContent = '‚ñ∂Ô∏è Start Reading';
      } else {
        current = 0;
        isReading = true;
        document.getElementById('readBtn').textContent = '‚èπÔ∏è Stop Reading';
        speakSentence(current);
      }
    }

</script>

</body>
</html>


